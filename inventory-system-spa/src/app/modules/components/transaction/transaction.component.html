<div class="container-fluid transaction mt-5">
    <div class="row">
        <h2 class="mb-4">Transact</h2>
    </div>
    <div class="row container">
        <div class="col-md-5">
            <div class="table-responsive">
                <table class="table table-striped table-bordered minimalist-table">
                  <thead class="thead-dark">
                      <th colspan="2">Available items</th>
                  </thead>
                  <tbody>
                    @for (item of inventoryItems; track item.ProductId; let index = $index) {
                    <tr>
                      <td><span class="product-code">{{item.ProductCode}}</span></td>
                      <td>
                        <span class="product-name">{{item.ProductName}}</span>
                        <!-- <span class="product-description">{{product.ProductDescription}}</span> -->
                        <span class="product-brand">{{item.Brand}}</span>
                        <span class="product-category">{{item.Category}}</span>
                        <span class="product-price">{{item.UnitPrice | currency}}</span>
                        <button class="btn-to-cart" (click)="addToCart(item)" role="button">Add to Cart</button>
                      </td>
                    </tr>
                    }
                    @empty {
                    <tr>
                      <td colspan="7" class="text-center">No available product.</td>
                    </tr>
                    }
                  </tbody>
                </table>
              </div>
        </div>
        <div class="col-md-7">
            <form [formGroup]="transactionForm">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered item-list" style="table-layout: fixed; width: 100%;">
                      <thead class="cart-header">
                          <th scope="col" style="width: 5%;">#</th>
                          <th scope="col" style="width: 40%;">In cart</th>
                          <th scope="col" style="width: 15%;">Quantity</th>
                          <th scope="col" style="width: 20%;">Price</th>
                          <th scope="col" style="width: 20%;">Total</th>
                      </thead>
                      <tbody formArrayName="carts">
                          <tr *ngFor="let cart of carts.controls; let index = index" [formGroupName]="index">
                            <th scope="row">{{ index + 1 }}</th>
                            <td>{{cart.get('ProductName')?.value}}</td>
                            <td><input formControlName="Quantity" type="number" class="form-control"></td>
                            <td>{{cart.get('UnitPrice')?.value | currency}}</td>
                            <td>{{cart.get('RowTotal')?.value | currency}}</td>
                          </tr>
                          <tr *ngIf="carts.controls.length === 0">
                            <td colspan="6" class="text-center">Empty cart.</td>
                          </tr>
                      </tbody>
                    </table>
                </div>
            </form>
        </div>
    </div>
</div>